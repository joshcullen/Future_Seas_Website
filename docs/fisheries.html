<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Future Seas – fisheries</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./images/FutureSeas_logo_text.jpeg.webp" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Future Seas</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./fisheries.html" aria-current="page"> 
<span class="menu-text">Fisheries</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Science/index.html"> 
<span class="menu-text">Science</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Products/index.html"> 
<span class="menu-text">Products</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Team/index.html"> 
<span class="menu-text">Team</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">




<style>
.figure {
  text-align: center;
  font-weight: 400;
}
</style>
<section id="climate-change-and-fisheries" class="level1 column-page">
<h1>Climate change and fisheries</h1>
<p>Climate change is driving shifts in the spatial distribution and productivity of marine animals. These processes are reorganizing ocean food webs, and leading to new species interactions. Fishers and fisheries managers are thus responding to a rapidly changing seascape of new risks, and new opportunities. However, existing management structures are often not designed for flexibility and adaptation. If they lag behind the emergence of novel environmental and economic conditions, fisher livelihoods and fishing communities can be impacted. Effectively responding to changing ecosystems and fisheries in the California Current System will require research to serve management needs, and science tailored to fishing communities. Future Seas is linking ecological projections and modeling frameworks explicitly to groups of species covered by Fishery Management Plans. Within these management plans, species are categorized into ecologically similar groups. Future Seas research is focused on three of these groups: <a href="#cps">coastal pelagic species</a>, <a href="#hms">highly migratory species</a>, and <a href="#gf">groundfish</a>.</p>
<section id="cps" class="level3">
<h3 class="anchored" data-anchor-id="cps">Coastal Pelagic Species</h3>
<div class="columns">
<div class="column" style="width:60%;">
<p>Coastal pelagic species include Pacific sardine (<em>Sardinops sagax</em>), northern anchovy (<em>Engraulis mordax</em>), and market squid (<em>Doryteuthis opalescens</em>). These animals provide an abundant prey base for larger predators such as tunas, billfishes, marine mammals, seabirds, sharks, and groundfish. The recruitment and abundance of coastal pelagic species in the California Current System can change rapidly from year-to-year, responding to shifts in ocean conditions. Historical studies proposed that warm conditions in the region favored sardine, while cooler temperature favored anchovy. However, record warm temperatures during the 2014-2016 North Pacific marine heatwave did not reverse the collapse of the northern subpopulation of sardine, and instead marked the beginning of a rapid increase in anchovy. The spatial distribution of coastal pelagic species also responds rapidly to environmental conditions. During the 2014-2016 heatwave, market squid expanded their range into the Gulf of Alaska, and sardine spawning grounds shifted hundreds of kilometers northwards. These redistributions can change the forage base available to top predators, as well as impacting fishing opportunities.</p>
<p>Coastal pelagic species support several important commercial fisheries. Fishers targeting coastal pelagic species generally rely on a portfolio of species, which varies regionally and temporally with species availability. The fleet targeting these species is one of the largest and most diverse in California, with the main targets being market squid, sardine, mackerel and anchovy, although the sardine fishery has been closed since 2015 due to low biomass. In 2022, coastal pelagic species accounted for 15.5% of total West Coast landings by weight, and generated $90.6 million in ex-vessel revenue. Key issues for the fishery include stabilizing catch from year to year, promoting efficiency and profitability given the high temporal variability in species availability and portfolio composition, and maintaining adequate forage for predators. As coastal pelagic species support both larger predators and commercial fisheries, fisheries managers balance the needs of fishing fleets with those of the broader ecosystem.</p>
<p>Learn more about coastal pelagic species <a href="https://www.fisheries.noaa.gov/species/west-coast-coastal-pelagic-species/overview">here</a> and <a href="https://www.pcouncil.org/managed_fishery/coastal-pelagic-species/">here</a>.</p>
</div><div class="column" style="width:40%;">
<div class="quarto-figure quarto-figure-center" style="max-width:400px">
<figure class="figure">
<p><img src="images/Sardinops_sagax.jpg.webp" class="img-fluid figure-img"></p>
<figcaption>Pacific sardine<br>(<em>Sardinops sagax</em>)</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Sardina_pilchardus1.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img" style="max-width:350px"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="hms" class="level3">
<h3 class="anchored" data-anchor-id="hms">Highly Migratory Species</h3>
<div class="columns">
<div class="column" style="width:40%;">
<div class="quarto-figure quarto-figure-center" style="max-width:375px">
<figure class="figure">
<p><img src="images/albacore_white_background-e1595276693649.jpeg.webp" class="img-fluid figure-img"></p>
<figcaption>Albacore tuna<br>(<em>Thunnus alalunga</em>)</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center" style="max-width:375px">
<figure class="figure">
<p><img src="images/swordfish_white_background-e1595276667337.jpeg.webp" class="img-fluid figure-img"></p>
<figcaption>Swordfish<br>(<em>Xiphias gladius</em>)</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/GFNMS_-_bluefin_tuna_(27945064206)_publicDomain.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img" style="max-width:350px"></p>
</figure>
</div>
</div><div class="column" style="width:60%;">
<p>Highly migratory species include tunas, such as Pacific bluefin tuna (<em>Thunnus orientalis</em>) and albacore tuna (<em>T. alalunga</em>), billfishes, such as swordfish (<em>Xiphias gladius</em>) and sharks. These species can migrate very large distances as part of their life cycles. For example, bluefin tuna and albacore spawn in the western North Pacific, but a portion of juveniles migrate to the California Current System to forage when they are about 1 – 3 years old. Albacore also migrate seasonally between the California Current System and the offshore North Pacific. Highly migratory species are particularly adept at using their ocean habitat across three dimensions, and can dive to several hundred meters depth to target mesopelagic prey. They often specialize on prey such as anchovy and sardine when those resources are abundant, but can rapidly switch to other prey such as cephalopods or crustaceans in response to changing availability.</p>
<p>Albacore support the most lucrative fishery for a highly migratory species off the US West Coast. The commercial albacore fishery operates primarily out of Pacific Northwest ports in Oregon and Washington, using hook-and-line or troll gear. Importantly, the US and Canadian albacore fisheries are currently open-access, providing valuable “insurance” as other fisheries (e.g., for salmon and crab) have become more volatile or less accessible. In 2023, albacore landings totaled 3,298 metric tons, generating $9.6 million in ex-vessel revenue. Swordfish were historically targeted by a drift gillnet fishery operating off California, but other gears (such as deep-set buoy gear) are now being phased in. In 2023, swordfish landings totaled 97 metric tons, worth $874,928 in ex-vessel revenue. Landings and revenue of bluefin tuna are still low compared to albacore and swordfish, but this species has become more abundant in the southern California Current over the past 10 years, potentially providing more fishing opportunities for both commercial and recreational fishers.</p>
<p>Highly migratory species are managed internationally by the Inter-American Tropical Tuna Commission and the Western Central Pacific Fisheries Council, and along the US West Coast by the Pacific Fishery Management Council. Due to their mobility, highly migratory species can respond rapidly to climate-driven changes in thermal habitat or prey resources. They can therefore move across static management boundaries, potentially challenging existing fisheries management agreements.</p>
<p>Learn more about highly migratory species <a href="https://www.fisheries.noaa.gov/west-coast/sustainable-fisheries/west-coast-highly-migratory-species">here</a> and <a href="https://www.pcouncil.org/managed_fishery/highly-migratory-species/">here</a>.</p>
</div>
</div>
</section>
<section id="gf" class="level3">
<h3 class="anchored" data-anchor-id="gf">Groundfish</h3>
<div class="columns">
<div class="column" style="width:60%;">
<p>The term “groundfish” encompasses more than 90 species of fish living on or near the seafloor, such as flatfish (e.g., Dover sole, <em>Microstomus pacificus</em>), sablefish (<em>Anoplopoma fimbria</em>), and deep dwelling demersal rockfishes (<em>Sebastes</em> spp.). We categorize Pacific hake (<em>Merluccius productus</em>) as groundfish as well, though as a ‘midwater’ species they are found from the seafloor up to the middle of the water column. Hake prey on other groundfish species, but are also preyed upon by piscivorous species like lingcod (<em>Ophiodon elongatus</em>) and Humboldt squid (<em>Dosidicus gigas</em>). Sablefish also act as both predator and prey during different portions of their lifecycle, and cannibalism between adults and juveniles has been observed. Juvenile sablefish feed primarily on copepods, while adult sablefish feed on a diverse set of prey that includes other fishes, cephalopods, and crustaceans. The spatial distribution of groundfish is primarily associated with environmental conditions near the sea-floor, such as bottom temperature,bottom oxygen, and sediment or rocky habitat. Although they are not as mobile as highly migratory species (e.g., tunas), hake have been observed to move from northern California to around Vancouver Island in spring and summer, and may migrate further north in warmer years.</p>
<p>Pacific hake support one of the largest and most valuable groundfish fisheries on the West Coast, with a total value of &gt; $300 million to the US. (Malick et al.&nbsp;2020). They are targeted primarily by mid-water trawl gear. Hake have been managed under the international Pacific Hake/Whiting treaty since 2012, and a bilateral agreement has governed the US and Canada catches of hake since 2005. Sablefish are also highly valuable commercially. Management measures include seasons, size limits, trip-limits, and a complex permit system. Climate change may already be impacting sablefish distribution and availability, and in the future, they may shift into deeper offshore waters, becoming less accessible to fishing fleets. As temperatures warm, some groundfish may be pushed further north, increasing potential for transboundary issues and conflicts.</p>
<p>Learn more about groundfish <a href="https://www.fisheries.noaa.gov/species/west-coast-groundfish">here</a> and <a href="https://www.pcouncil.org/managed_fishery/groundfish/">here</a>.</p>
</div><div class="column" style="width:40%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Fishing_Boats_at_Sunset_(15708154653)_CC_shareAlike_DavidMerrett.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img" style="max-width:350px"></p>
</figure>
</div>
</div>
</div>
</section>
</section>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/joshcullen\.github\.io\/Future_Seas_Website\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© 2024 Future Seas</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>This page is built with <i class="fa-brands fa-r-project" aria-label="r-project"></i> and <a href="https://quarto.org/">Quarto</a></p>
</div>
  </div>
</footer>




</body></html>